body {
  background:#F1F1F1;
  margin: 0;
  padding: 0;
  width: 100vw;
  height: 100vh;
  overflow-x: hidden;
}

.canvas{
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  position: relative;
}

.background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 0;
}

.ks_1_container{
  display: grid;
  position: absolute;
  width: 100vw;
  height: 100vh;
  grid-template-columns: repeat(64, 1.5625vw);
  grid-template-rows: repeat(36, 2.7778vh);
  gap: 0px;
  z-index: 1;
}

#ks1-1  { grid-column: 6;  grid-row: 21; }
#ks1-2  { grid-column: 11; grid-row: 19; }
#ks1-3  { grid-column: 16; grid-row: 17; }
#ks1-4  { grid-column: 21; grid-row: 15; }
#ks1-5  { grid-column: 26; grid-row: 13; }
#ks1-6  { grid-column: 31; grid-row: 11; }
#ks1-7  { grid-column: 36; grid-row: 9;  }
#ks1-8  { grid-column: 41; grid-row: 7;  }
#ks1-9  { grid-column: 46; grid-row: 5;  }
#ks1-10 { grid-column: 51; grid-row: 3;  }
#ks1-11 { grid-column: 56; grid-row: 5;  }

.ks_1_container .ks1:nth-child(1)  { animation-delay: 0s;    }
.ks_1_container .ks1:nth-child(2)  { animation-delay: 0.08s; }
.ks_1_container .ks1:nth-child(3)  { animation-delay: 0.16s; }
.ks_1_container .ks1:nth-child(4)  { animation-delay: 0.254s;}
.ks_1_container .ks1:nth-child(5)  { animation-delay: 0.32s; }
.ks_1_container .ks1:nth-child(6)  { animation-delay: 0.40s; }
.ks_1_container .ks1:nth-child(7)  { animation-delay: 0.48s; }
.ks_1_container .ks1:nth-child(8)  { animation-delay: 0.56s; }
.ks_1_container .ks1:nth-child(9)  { animation-delay: 0.64s; }
.ks_1_container .ks1:nth-child(10) { animation-delay: 0.72s; }
.ks_1_container .ks1:nth-child(11) { animation-delay: 0.80s; }

.ks_1_container .ks1,
.ks_2_container .ks2 {
  width: 7.91vw;
  height: 9.55vw;
  object-fit: contain;
  animation-name: ks-bounce-up;
  animation-duration: 0.6s;
  animation-timing-function: ease-out;
  animation-fill-mode: forwards;
}

@keyframes ks-bounce-up {
  0%   { transform: translateY(0); }
  40%  { transform: translateY(-2.5vh); }
  100% { transform: translateY(0); }
}

.ks_2_container{
  display: grid;
  position: absolute;
  width: 100vw;
  height: 100vh;
  grid-template-columns: repeat(64, 1.5625vw);
  grid-template-rows: repeat(36, 2.7778vh);
  gap: 0px;
  z-index: 1;
}

.ks_2_container::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(to right, rgba(255,255,255,0.3) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,0.3) 1px, transparent 1px);
  background-size: 1.5625vw 2.7778vh;
  pointer-events: none;
  z-index: 50;
  visibility: hidden;
}

#ks2-1 { grid-column: 26; grid-row: 23; }
#ks2-2 { grid-column: 31; grid-row: 21; }
#ks2-3 { grid-column: 36; grid-row: 19; }
#ks2-4 { grid-column: 41; grid-row: 21; }
#ks2-5 { grid-column: 46; grid-row: 23; }
#ks2-6 { grid-column: 51; grid-row: 21; }
#ks2-7 { grid-column: 56; grid-row: 23; }

.ks_2_container .ks2:nth-child(1) { animation-delay: 1.48s; }
.ks_2_container .ks2:nth-child(2) { animation-delay: 1.58s; }
.ks_2_container .ks2:nth-child(3) { animation-delay: 1.66s; }
.ks_2_container .ks2:nth-child(4) { animation-delay: 1.74s; }
.ks_2_container .ks2:nth-child(5) { animation-delay: 1.82s; }
.ks_2_container .ks2:nth-child(6) { animation-delay: 1.90s; }
.ks_2_container .ks2:nth-child(7) { animation-delay: 1.98s; }


/* =============================================
   다른 지역 svg (전라도/충청도/강원도/제주도)
   ============================================= */
.jr, .cc, .kw, .jj {
  display: block;
  position: absolute;
  z-index: 1;
  animation: region-bounce-up 0.6s ease-out both;
}

#jr1 { top:4vw;  left:16vw; animation-delay: 0.5s; }
#jr2 { top:15vw; left:35vw; animation-delay: 0.7s; }
#jr3 { top:29vw; left:52vw; animation-delay: 0.9s; }

#cc1 { top:2.6vw;  left:1.5vw; animation-delay: 0.3s; }
#cc2 { top:7.8vw;  left:26vw;  animation-delay: 0.6s; }
#cc3 { top:21.3vw; left:1.5vw; animation-delay: 0.9s; }

#kw1 { top:3.1vw;  left:1.5vw;  animation-delay: 0.5s;  }
#kw2 { top:30.6vw; left:20.8vw; animation-delay: 0.14s; }

#jj1 { top:3.6vw;  left:3.1vw;  animation-delay: 0.3s; }
#jj2 { top:6.3vw;  left:33.2vw; animation-delay: 0.6s; }
#jj3 { top:23.9vw; left:67.3vw; animation-delay: 0.9s; }
#jj4 { top:33.3vw; left:50vw;   animation-delay: 1.2s; }

@keyframes region-bounce-up {
  0%   { transform: translateY(0) scale(0.95); }
  40%  { transform: translateY(-2.5vh) scale(0.95); }
  100% { transform: translateY(0) scale(0.95); }
}


/* =============================================
   페이지 이동 화살표
   ============================================= */
#nextpage_down {
  position: absolute;
  bottom: 4vh;
  left: 50%;
  transform: translateX(-50%) rotate(90deg);
  z-index: 2;
  opacity: 0;
  width: 2.6vw;
  animation: nextpage-appear-loop 3.2s ease-in-out 0.7s infinite;
}

#nextpage {
  width: 2.6vw;
  position: absolute;
  bottom: 47vh;
  right: 3.6vw;
  z-index: 2;
  opacity: 0;
  pointer-events: none;
  animation:
    nextpage-show 1s ease-out 5s forwards,
    nextpage-loop 0.5s ease-in-out 4s infinite;
}

@keyframes nextpage-show {
  0%   { opacity: 0; transform: translateX(-40px); }
  100% { opacity: 1; transform: translateX(0); }
}


/* =============================================
   .blank — 전환 그라디언트 영역
   ============================================= */
.blank {
  width: 100%;
  height: 47vw;
  position: relative;
  z-index: -1;
}

#ks_blank { background: linear-gradient(180deg, #FF0561 20%, #F1F1F1 100%); }
#jr_blank  { background: linear-gradient(180deg, #00B7AB 20%, #F1F1F1 100%); }
#cc_blank  { background: linear-gradient(180deg, #90C85F 20%, #F1F1F1 100%); }
#kw_blank  { background: linear-gradient(180deg, #F6C500 20%, #F1F1F1 100%); }
#jj_blank  { background: linear-gradient(180deg, #FF961E 20%, #F1F1F1 100%); }

.explain1 {
  position: absolute;
  top: 13vw;
  left: 3.3vw;
  z-index: 1;
  height: auto;
  transform: translateY(40px);
}

.explain2 {
  position: absolute;
  top: 23.5vw;
  left: 28.5vw;
  z-index: 1;
  height: auto;
}


/* =============================================
   .canvas2 — 두 번째 화면 (사투리 정보 카드)
   ============================================= */
.canvas2 {
  width: 100vw;
  height: 52.5vw;
  display: flex;
  position: relative;
  flex-direction: column;
  background-color: #F1F1F1;
  overflow: hidden;
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.canvas2.active {
  opacity: 1;
  transform: translateY(0);
}

.title {
  position: absolute;
  top: 2vw;
  left: 3.125vw;
  width: 24vw;
}

#forever_text {
  position: absolute;
  width: 21.2vw;
  top: 12.4vw;
  left: 3.125vw;
  font-family: "rixsingose-pro", sans-serif;
  font-weight: 300;
  font-size: clamp(13px, 1.04vw, 20px);
  line-height: 150%;
  color: black;
  display: flex;
  justify-content: center;
  align-items: center;
}

#forever_text_cc {
  position: absolute;
  width: 21.2vw;
  top: 9.4vw;
  left: 3.125vw;
  font-family: "rixsingose-pro", sans-serif;
  font-weight: 300;
  font-size: clamp(13px, 1.04vw, 20px);
  line-height: 150%;
  color: black;
  display: flex;
  justify-content: center;
  align-items: center;
}

.name {
  position: absolute;
  top: -1px;
  left: -1px;
  z-index: 2;
  color: white;
  border: 1px solid black;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: "rixsingose-pro", sans-serif;
  font-weight: 300;
  font-size: clamp(14px, 1.4vw, 27px);
  line-height: 1;
}

.ks_name { background-color: #FF0561; }
.jr_name { background-color: #00B7AB; }
.cc_name { background-color: #90C85F; }
.kw_name { background-color: #F6C500; }
.jj_name { background-color: #FF961E; }

.ks_line { color: #FF0561; }
.jr_line { color: #00B7AB; }
.cc_line { color: #90C85F; }
.kw_line { color: #F6C500; }
.jj_line { color: #FF961E; }

.inishi {
  background-color: white;
  border: 1px solid black;
  position: absolute;
  width: 21.8vw;
  left: 43.6vw;
}

.ks_inishi { height: 15vw;   top: 5.2vw; }
.jr_inishi { height: 19.2vw; top: 5.2vw; }
.cc_inishi { height: 15vw;   top: 5.2vw; }
.kw_inishi { height: 11.9vw; top: 5.2vw; }
.jj_inishi { height: 15vw;   top: 5.2vw; }

#inishi_name {
  width: 5.7vw;
  height: 2.9vw;
}

#inishi_text {
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  flex-direction: column;
  gap: 1.56vw;
  padding-top: 4.7vw;
  box-sizing: border-box;
}

.explain3 {
  position: absolute;
  top: 1.56vw;
  left: 43.6vw;
  width: 21.8vw;
}

.vocab {
  background-color: white;
  border: 1px solid black;
  position: absolute;
  width: 21.8vw;
  left: 43.6vw;
}

.ks_vocab { height: 19.2vw; top: 21.8vw; }
.jr_vocab { height: 22.4vw; top: 26vw;   }
.cc_vocab { height: 19.2vw; top: 21.8vw; }
.kw_vocab { height: 15vw;   top: 18.7vw; }
.jj_vocab { height: 22.4vw; top: 21.8vw; }

#vocab_name {
  width: 7.3vw;
  height: 2.9vw;
}

#vocab_text {
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  flex-direction: column;
  gap: 1.56vw;
  padding-top: 4.7vw;
  box-sizing: border-box;
}

.ending {
  background-color: white;
  border: 1px solid black;
  position: absolute;
  width: 21.8vw;
  top: 5.2vw;
  left: 67.3vw;
}

.ks_ending { height: 31.2vw; }
.jr_ending { height: 22.4vw; }
.cc_ending { height: 22.4vw; }
.kw_ending { height: 22.4vw; }
.jj_ending { height: 22.4vw; }

#ending_name {
  width: 4.7vw;
  height: 2.9vw;
}

#ending_text {
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  flex-direction: column;
  gap: 1.56vw;
  padding-top: 4.7vw;
  box-sizing: border-box;
}

.ps {
  font-family: "rixsingose-pro", sans-serif;
  font-weight: 300;
  font-size: clamp(10px, 0.78vw, 15px);
  line-height: 150%;
  color: #B1B1B1;
  position: absolute;
}

#ps_ks { top: 42.6vw; left: 44.6vw; }
#ps_jr { top: 40vw;   left: 67.3vw; }
#ps_cc { top: 40vw;   left: 67.3vw; }
#ps_kw { top: 34.8vw; left: 43.6vw; }
#ps_jj { top: 40vw;   left: 67.3vw; }

.hay {
  position: absolute;
  left: 67.3vw;
  width: 21.8vw;
  height: 9.85vw;
  z-index: 10;
  padding: 1.25vw 1.67vw 1.15vw;
  color: white;
  border: 1px solid black;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  box-sizing: border-box;
}

.ks_hay { background-color: #FF0561; top: 38vw;   }
.jr_hay { background-color: #00B7AB; top: 29.1vw; }
.cc_hay { background-color: #90C85F; top: 29.1vw; }
.kw_hay { background-color: #F6C500; top: 29.1vw; }
.jj_hay { background-color: #FF961E; top: 29.1vw; }

.hay-title {
  font-family: "rixsingose-pro", sans-serif;
  font-weight: 300;
  font-size: clamp(13px, 1.2vw, 23px);
  line-height: 1.4;
  text-align: center;
}

.hay-input-wrapper {
  width: 100%;
  margin-top: 1.35vw;
  border-bottom: 2px solid rgba(255,255,255,0.4);
  padding-bottom: 0.31vw;
  display: flex;
  align-items: center;
}

.hay-input-wrapper:focus-within {
  border-bottom-color: #ffffff;
}

.hay-editable {
  width: 100%;
  min-height: 1.25vw;
  outline: none;
  border: none;
  font-family: "Apple SD Gothic Neo", sans-serif;
  font-weight: 300;
  font-size: clamp(12px, 0.885vw, 17px);
  line-height: 1.4;
  text-align: center;
  color: #ffffff;
  font-synthesis: none;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  caret-color: #ffffff;
}

.hay-editable:empty::before {
  content: attr(data-placeholder);
  display: block;
  font-family: "Apple SD Gothic Neo", sans-serif;
  font-weight: 300;
  font-size: clamp(12px, 0.885vw, 17px);
  line-height: 1.4;
  text-align: center;
  color: rgba(255,255,255,0.7);
  pointer-events: none;
}

.line {
  font-family: "rixsingose-pro", sans-serif;
  font-weight: 300;
  font-size: clamp(18px, 1.93vw, 37px);
  text-align: center;
  cursor: default;
  user-select: none;
  position: relative;
  z-index: 11;
  pointer-events: auto;
}

.falling-text {
  position: absolute;
  left: 0;
  top: 0;
  white-space: nowrap;
  font-family: "rixsingose-pro", sans-serif;
  font-weight: 300;
  font-size: clamp(14px, 1.3vw, 25px);
  color: var(--accent);
  text-align: center;
  pointer-events: none;
  z-index: 4;
}

#matter-container {
  position: absolute;
  inset: 0;
  z-index: 1;
  pointer-events: none;
}

#matter-container canvas {
  width: 100%;
  height: 100%;
  display: block;
  position: absolute;
  inset: 0;
  background: transparent !important;
  pointer-events: auto;
}

#dialectInput {
  position: relative;
  z-index: 10;
  pointer-events: auto;
}

#floating-explain {
  position: absolute;
  pointer-events: none;
  display: none;
  z-index: 999;
}

#floating-explain img {
  display: block;
  max-width: none;
  height: auto;
}

:root { --accent: #FF0561; }

.canvas2[data-region="ks"] { --accent: #FF0561; }
.canvas2[data-region="jr"] { --accent: #00B7AB; }
.canvas2[data-region="cc"] { --accent: #90C85F; }
.canvas2[data-region="kw"] { --accent: #F6C500; }
.canvas2[data-region="jj"] { --accent: #FF961E; }

#ks-canvas { position: relative; }

.nextpage {
  width: 2.6vw;
  position: absolute;
  top: 26.5vw;
  right: 2.1vw;
  z-index: 2;
  opacity: 0;
  pointer-events: none;
  animation:
    nextpage-show 1s ease-out 5s forwards,
    nextpage-loop 0.5s ease-in-out 4s infinite;
}